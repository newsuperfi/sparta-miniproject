<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
    crossorigin="anonymous"></script>

  <title>회원 등록 페이지</title>


  <link href="https://fonts.googleapis.com/css2?family=Montserrat&family=Noto+Sans+KR:wght@500&display=swap"
    rel="stylesheet">

  <style>
    * {
      font-family: 'Montserrat', sans-serif;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .mytitle {
      width: 500px;
      margin: 60px auto 0px auto;
      padding-bottom: 60px;
      color: green;
    }

    body {
      background-color: cornsilk;
      background-position: center;
      background-size: cover;
    }


    .header {
      width: 1000px;
      text-align: center;
      margin: auto;
      padding: 30px 100px;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-around;
    }

    .header>div {
      width: 1000px;
      font-size: 20px;
      font-weight: 700;
      background-color: whitesmoke;
      opacity: 0.8;
    }

    .menu {
      height: auto;
      overflow: hidden;
      max-width: 1000px;
      margin: auto;
      padding-top: 20px;
      padding-bottom: 20px;
      display: flex;
      justify-content: space-around;
      background-color: whitesmoke;
    }
    .menu>a {
      width: 120px;
      border: solid;
      border-radius: 5px;
      padding: 10px;
      text-align: center;
      text-decoration: none;
      color: #000;
      background-color: #ffc107;
      border-color: #ffc107;
    }

    .menu>div {
      width: 120px;
      border: solid;
      border-radius: 5px;
      padding: 10px;
      text-align: center;
    }

    .team-details {
      max-width: 800px;
      margin: auto;
      padding: 100px;
      display: flex;
      justify-content: space-around;

    }

    .member {
      max-width: 1000px;
      margin: 0 auto;
      padding-top: 50px;
      padding-bottom: 200px;
      background-color: gainsboro;
      display: flex;
    }

    .parent {
      width: 600px;
      overflow: hidden;
    }

    .child {
      background-color: gold;
      width: 200px;
      height: 300px;
      margin: auto;
      float: left;
    }
  </style>
  <script>
    function save_comment(memberId) {
      let nick = $('#name').val();
      let comment = $('#comment').val();

      let formData = new FormData();
      formData.append("nick_give", nick);
      formData.append("comment_give", comment);

      fetch(`/guestbook/${memberId}`, { method: "POST", body: formData, }).then((res) => res.json()).then((data) => {
        alert(data['msg']);
        window.location.reload(`/show_page/${memberId}`);
      });
    }

    function save_member() {
      let member = $('#member').val();
      let mbti = $('#mbti').val();
      let motive = $('#motive').val()
      let blog = $('#blog').val()
      let github = $('#github').val()
      let memberId = $('#memberId').val();

      let formData = new FormData();
      formData.append("member_give", member);
      formData.append("mbti_give", mbti);
      formData.append("motive_give", motive);
      formData.append("blog_give", blog);
      formData.append("github_give", github);
      formData.append("memberId_give", memberId);


      fetch(`/members`, { method: "POST", body: formData, }).then((res) => res.json()).then((data) => {
        alert(data['msg']);
        window.location.reload();
      });
    }

    function edit_member() {
      let member = $('#member').val();
      let mbti = $('#mbti').val();
      let motive = $('#motive').val()
      let blog = $('#blog').val()
      let github = $('#github').val()
      let memberId = $('#memberId').val();

      let formData = new FormData();
      formData.append("member_give", member);
      formData.append("mbti_give", mbti);
      formData.append("motive_give", motive);
      formData.append("blog_give", blog);
      formData.append("github_give", github);
      formData.append("memberId_give", memberId);


      fetch(`/members/${memberId}`, { method: "PUT", body: formData, }).then((res) => res.json()).then((data) => {
        alert(data['msg']);
        window.location.reload();
      });
    }
  </script>


<body>
  <div class="header">
    <div>
      <h1>Team B3</h1>
      <p>Become 3% of Backend</p>
    </div>
  </div>
  <div class="menu">
    <a href="/">Team B3</a>
    <a href="/team">팀원 소개</a>
  </div>
  <div class="member">
    <div class="card" style="width: 30rem; margin:100px 0 0 130px;">
      <img src="https://i.pinimg.com/564x/a0/29/2e/a0292ed714e1ae5e85d9f6aebbb8ccfa.jpg" class="card-img-top" alt=""
        height="240px">
      <div class="card-body">
        <p class="card-text" style="text-align: center; font-size: 30px;">Team B3 멤버등록 페이지 입니다.</p>
      </div>
    </div>
    <div class="card" style="width: 18rem; float: left; margin-top: 100px; ">
      <div class="card-header">
        회원 정보
      </div>
      <ul class="list-group list-group-flush" style="float: left; ">
        <input type="text" class="form-control" id="member" placeholder="이름" />
        <input type="text" class="form-control" id="mbti" placeholder="MBTI" />
        <input type="text" class="form-control" id="motive" placeholder="지원동기 및 각오" />
        <input type="text" class="form-control" id="blog" placeholder="http://블로그 주소" />
        <input type="text" class="form-control" id="github" placeholder="http://깃허브 주소" />
        <input type="text" class="form-control" id="memberId" placeholder="memberId" />
      </ul>
      <button type="button" onclick="save_member()" class="btn btn-warning mybtn">
        등록하기
      </button>
      <button onclick="edit_member()" type="button" class="btn btn-warning mybtn">
        수정하기
      </button>
    </div>
  </div>
  </div>

</body>

</html>
